<!DOCTYPE html>
<html lang="en">

<title>PHYSCI 70: Intro to Digital Fabrication </title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="../style.css" rel="stylesheet">

<body>


<xmp theme="journal" style="display:none;">



  ### Week 5: 3D design and printing
    Hello there and welcome to the end of week 7,
  
    For this week's assignment, we had to:

    <h5> 1. Use an output device that you haven't used before and 
         2. Write a microcontroller program that integrates at least one input device and one output device. </h5>

    I decided to build on last week's project (when I used a temperature sensor's reading to activate a DC motor). In addition to lighting a Red LED light whenever the temperature was above a certain temperature, I also incorporated a buzzer which was intended to make a sound whenever the temperature would rise (or drop) to a certain level. 
    Here is a short clip of the final product:
    <video width="620" height="440" controls src="buzzer.mp4"></video>

    The micro-controller program I used is similar to the one I used in <a href="/06_Week_6/Week6.html">week 6</a>, I just added a few lines of code making a function that activates the buzzer under certain conditions and called the function under the if statement for when the temperature was above a certain temperature. Note that the function could be called under a different if statement. You would just cut and paste it somewhere else. 
    Here is the new lines of code I added and the function. 

    What is nice is that now I can see that I am getting closer to my final project. I already have a system that signals when the temperature has dropped (through LED lights and buzzer) and a motorized system that gets activated as a results of those signals. 

    <h5> 1. Use an output device that you haven't used before and 
        write a microcontroller program that integrates at least one input device and one output device. </h5>
        <pre>
            <code>
                //Before the void setup function and under general variable declaration

                long max_frequency = 2500; // Max frequency for the buzzer

                long frequency; // The frequency to buzz the buzzer
        </code>
        </pre>

        <pre>
            <code>
                //in the void setup function
                frequency = (sensorVal * max_frequency) / 200;
        </code>
        </pre>

        <pre>
            <code>
                //outside the void setup, here is the function "buzz" declaration. It will be called in the if statement.
                void buzz(int targetPin, long frequency, long length) {
                    long delayValue = 1000000/frequency/2;
                    long numCycles = frequency * length/ 1000;

                    for (long i=0; i < numCycles; i++) {
                        digitalWrite(targetPin,HIGH);
                        delayMicroseconds(delayValue);
                        digitalWrite(targetPin,LOW);
                        delayMicroseconds(delayValue);
                    }
                }
        </code>
        </pre>
    
        <pre>
            <code>
                if (temperature >  25)
                    {
                        //calling the "buzz" function
                        buzz(buzzerPin, frequency, 10);

                        digitalWrite(3, LOW);
                        digitalWrite(4, HIGH);
                        digitalWrite(13,LOW);
                        digitalWrite(12, HIGH);
                  
                    }
                    
                    delay(1); 
                    }
        </code>
        </pre>
        
        I still need to make a small adjustement to the code to make the buzzer stop once a certain action happens. Let's say a person deactivates it by pushing a button which would indicate that someone is aware that the temperature has dropped and can perhaps confirm that the heating system has been activated and is running as expected.

        <h5>Use an oscilloscope to discover the time domain at which your output device is operating. Is it on a fixed clock? What's its speed? Share images and describe your findings.</h5>
        
        Unfortunately, I was not able to execute this task. However much I paid attention in class when they were explaining how to use it, it was not enough for me, or the TF or other students I asked, to figure out how to actually use it. More help is needed from Nathan.

        <h5>4. Prepare CAD files for CNC week. </h5>
        
        Here is a screenshot of the file:
        <img src="69mustang.png" alt="Mustang sketch" style="width:100%">

        <a href="69Mustang.dxf" download>
            Click Here to download the .dxf file for the last piece.
          </a>

        This week shoutout goes to:
  
  <ul>
    <li>Lauren for teaching me what I needed to know about buzzers</li>
    <li>Ibrahim for fixing my buzzer</li>
  </ul>
   
</xmp>
</body>

<div class="navbar">
  <a href="/04_Week_4/Week4.html" class="active">Previous Week</a>
  <a href="/06_Week_6/Week6.html">Next week</a>
  <a href="index.html">Home</a>
</div>

<script src="https://strapdownjs.com/v/0.2/strapdown.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" ></script>

</html>